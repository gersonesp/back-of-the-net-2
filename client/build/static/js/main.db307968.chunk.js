(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(45),s=t.n(c),l=(t(61),t(4)),o=t.n(l),i=t(7),m=t(2),u=t(6),d=t.n(u),p=t(111),v=t(10),b=t(18),f=t(54),h=Object(f.a)({typography:{fontFamily:'"Roboto"',fontSize:12,h1:{}},palette:{primary:{main:"#DF1B1B"}}}),E=r.a.createContext({}),k=r.a.createContext(null),g=r.a.createContext({}),O=function(e){var a=e.title,t=e.path;return r.a.createElement("li",null,r.a.createElement(v.c,{exact:!0,to:"/".concat(t),activeStyle:{opacity:"1",borderBottom:"3px solid #8879f2"}},a))},w=t(47),N=t.n(w),j=t(48),y=t.n(j),x=(t(85),function(){var e=Object(n.useContext)(E).logout,a=Object(n.useContext)(g),t=a.darkMode,c=a.setDarkMode,s=function(){var e=Object(i.a)(o.a.mark((function e(){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=document.getElementsByClassName("body")[0],c(!t),t?a.className="body":a.className+=" dark",e.prev=3,n=localStorage.token,e.next=7,d.a.put("/api/users/darkMode",{darkMode:!t},{headers:{Authorization:"Bearer "+n}});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:t?"navbar dark":"navbar"},r.a.createElement("div",{className:"heading"},r.a.createElement(v.b,{to:"/"},r.a.createElement("h1",null,"Back of The Net")),r.a.createElement("div",{className:"navButton"},r.a.createElement(v.b,{to:"/login",onClick:function(){e()}},"Logout"))),r.a.createElement("ul",null,r.a.createElement(O,{title:"Matches",path:""}),r.a.createElement(O,{title:"Live Watch",path:"livewatch"}),r.a.createElement(O,{title:"Table",path:"table"})),r.a.createElement("div",{className:t?"darkModeToggle dark":"darkModeToggle"},r.a.createElement("button",{onClick:s},r.a.createElement("img",{src:t?y.a:N.a,alt:"dark/light mode"}))))}),C=function(e){localStorage.token=e},S=(t(86),function(){var e=Object(n.useContext)(E).setUser,a=Object(n.useState)(""),t=Object(m.a)(a,2),c=t[0],s=t[1],l=Object(n.useState)(""),u=Object(m.a)(l,2),p=u[0],b=u[1],f=Object(n.useState)(""),h=Object(m.a)(f,2),k=h[0],g=h[1],O=function(){var a=Object(i.a)(o.a.mark((function a(t){var n,r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.prev=1,a.next=4,d.a.post("/api/users/login",{email:c,password:p});case 4:n=a.sent,r=n.data,C(r.token),e(r.user),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),console.error(a.t0),g(a.t0.response.data);case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}(),w=function(e){var a=e.target,t=a.name,n=a.value;switch(t){case"email":s(n);break;case"password":b(n)}};return r.a.createElement("form",{onSubmit:O,className:"loginForm"},r.a.createElement("div",{className:"blankCard"},r.a.createElement("div",{className:"headerContainer"},r.a.createElement("h5",null,"Back of The Net"),r.a.createElement("h1",null,"Welcome back")),r.a.createElement("div",{className:"inputContainer"},r.a.createElement("div",{className:"labelInput"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{className:k.email?"inputError":null,type:"email",name:"email",value:c,onChange:w}),k.email?r.a.createElement("div",{className:"authError"},k.email):null),r.a.createElement("div",{className:"labelInput"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{className:k.password?"inputError":null,type:"password",name:"password",value:p,onChange:w}),k.password?r.a.createElement("div",{className:"authError"},k.password):null),r.a.createElement("div",{className:"buttonContainer"},r.a.createElement("button",{type:"submit"},"Log In")),r.a.createElement("div",{className:"altForm"},r.a.createElement("pre",null,"New member? ",r.a.createElement(v.b,{to:"/register"},"Sign Up here."))))))}),M=function(){var e=Object(n.useContext)(E).setUser,a=Object(n.useState)(""),t=Object(m.a)(a,2),c=t[0],s=t[1],l=Object(n.useState)(""),u=Object(m.a)(l,2),p=u[0],b=u[1],f=Object(n.useState)(""),h=Object(m.a)(f,2),k=h[0],g=h[1],O=Object(n.useState)(""),w=Object(m.a)(O,2),N=w[0],j=w[1],y=Object(n.useState)(""),x=Object(m.a)(y,2),S=x[0],M=x[1],T=function(){var a=Object(i.a)(o.a.mark((function a(t){var n,r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.prev=1,a.next=4,d.a.post("/api/users/register",{name:c,email:p,password:k,password2:N});case 4:n=a.sent,r=n.data,C(r.token),e(r.user),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),console.error(a.t0),M(a.t0.response.data);case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}(),D=function(e){var a=e.target,t=a.name,n=a.value;switch(t){case"name":s(n);break;case"email":b(n);break;case"password":g(n);break;case"password2":j(n)}};return r.a.createElement("form",{onSubmit:T,className:"loginForm"},r.a.createElement("div",{className:"blankCard"},r.a.createElement("div",{className:"headerContainer"},r.a.createElement("h5",null,"Back of The Net"),r.a.createElement("h1",null,"Create An Account")),r.a.createElement("div",{className:"inputContainer"},r.a.createElement("div",{className:"labelInput"},r.a.createElement("label",null,"Username"),r.a.createElement("input",{className:S.name?"inputError":null,type:"name",name:"name",value:c,onChange:D}),S.name?r.a.createElement("div",{className:"authError"},S.name):null),r.a.createElement("div",{className:"labelInput"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{className:S.email?"inputError":null,type:"email",name:"email",value:p,onChange:D}),S.email?r.a.createElement("div",{className:"authError"},S.email):null),r.a.createElement("div",{className:"labelInput"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{className:S.password?"inputError":null,type:"password",name:"password",value:k,onChange:D}),S.password?r.a.createElement("div",{className:"authError"},S.password):null),r.a.createElement("div",{className:"labelInput"},r.a.createElement("label",null,"Confirm Password"),r.a.createElement("input",{className:S.password2?"inputError":null,type:"password",name:"password2",value:N,onChange:D}),S.password2?r.a.createElement("div",{className:"authError"},S.password2):null),r.a.createElement("div",{className:"buttonContainer"},r.a.createElement("button",{type:"submit"},"Signup")),r.a.createElement("div",{className:"altForm"},r.a.createElement("pre",null,"Already a member? ",r.a.createElement(v.b,{to:"/login"},"Login here."))))))},T=t(110),D=r.a.createContext({}),_=t(22),B=t(23),I=function(e,a,t){return a&&t?"".concat(e," disabled dark"):t?"".concat(e," disabled"):e},P=(t(87),function(e){var a=e.name,t=e.id,c=e.shortName,s=e.buttonDisabled,l=e.teamId,o=e.teamBase,i=Object(n.useState)(0),u=Object(m.a)(i,2),d=u[0],p=u[1],v=Object(n.useContext)(D),b=v.predictions,f=v.setPredictions,h=Object(n.useContext)(g).darkMode;Object(n.useEffect)((function(){b&&b["".concat(t,"-").concat(c,"-").concat(l,"-").concat(o)]&&p(b["".concat(t,"-").concat(c,"-").concat(l,"-").concat(o)])}),[b]);var E=function(e){e.preventDefault();var a=e.target.name;if("minus"!==a||0!==d)switch(a){case"minus":p(d-1),f(Object(B.a)(Object(B.a)({},b),{},Object(_.a)({},"".concat(t,"-").concat(c,"-").concat(l,"-").concat(o),d-1)));break;case"add":p(d+1),f(Object(B.a)(Object(B.a)({},b),{},Object(_.a)({},"".concat(t,"-").concat(c,"-").concat(l,"-").concat(o),d+1)))}};return r.a.createElement("div",{className:"team"},r.a.createElement("div",{className:"labelImage"},r.a.createElement("img",{className:"teamImage",src:"https://back-of-the-net.s3.amazonaws.com/teams/".concat(c,".svg"),alt:c}),r.a.createElement("label",null,r.a.createElement("div",{className:"teamName"},a))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("button",{className:I("scoreButton",h,s),name:"minus",onClick:E,disabled:s},"-"),r.a.createElement("input",{className:h?"dark":"",readOnly:!0,type:"number",value:d}),r.a.createElement("button",{className:I("scoreButton",h,s),name:"add",onClick:E,disabled:s},"+"))))}),A=(t(88),function(e){var a=e.awayTeam,t=e.homeTeam,c=e.id,s=e.shortNameH,l=e.shortNameA,o=e.buttonDisabled,i=e.awayTeamId,m=e.homeTeamId,u=Object(n.useContext)(g).darkMode;return r.a.createElement("li",{className:u?"matchTeamContainer dark":"matchTeamContainer"},r.a.createElement(P,{name:t,id:c,shortName:s,buttonDisabled:o,teamId:m,teamBase:"h"}),r.a.createElement(P,{name:a,id:c,shortName:l,buttonDisabled:o,teamId:i,teamBase:"a"}))}),U=function(e){var a=Date.parse(e),t=new Date(a),n=t.getUTCDay(),r=t.getUTCDate(),c=t.getUTCMonth()+1,s=t.getUTCFullYear();return"".concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][n]," ").concat(c,"/").concat(r,"/").concat(s)},z=(t(89),function(e){var a=e.date,t=e.fixtures,c=e.setButtonDisabled,s=e.buttonDisabled,l=e.predictions,m=e.setPredictions,u=e.setMissedDeadline,p=Object(n.useContext)(E).user,v=Object(n.useContext)(k).teams,b=Object(n.useContext)(g).darkMode;return Object(n.useEffect)((function(){(function(){var e=Object(i.a)(o.a.mark((function e(){var a,n,r,s,l,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.token,e.next=4,d.a.get("/api/predictions/".concat(p.id,"/").concat(t[0].event),{headers:{Authorization:"Bearer "+a}});case 4:n=e.sent,(r=n.data)?(m(r.predictions),c(!0)):(s=(new Date).getTime(),l=new Date(t[0].kickoff_time).getTime(),s>=l&&(console.log(s,l),u(!0),c(!0)),i={},t.map((function(e){var a=e.team_a,t=e.team_h,n=e.id;v[a]&&v[t]&&(i["".concat(n,"-").concat(v[t].short_name,"-").concat(t,"-h")]=0,i["".concat(n,"-").concat(v[a].short_name,"-").concat(a,"-a")]=0)})),m(i)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[v]),r.a.createElement(D.Provider,{value:{predictions:l,setPredictions:m}},r.a.createElement("ul",{className:b?"matchCard dark":"matchCard"},r.a.createElement("div",{className:b?"matchCardDate dark":"matchCardDate"},U(a)),t.map((function(e){var t=e.kickoff_time,n=e.id,c=e.team_a,l=e.team_h;return a===t.slice(0,t.indexOf("T"))&&v[c]&&v[l]&&r.a.createElement(A,{key:n,awayTeam:v[c].name,homeTeam:v[l].name,shortNameH:v[l].short_name,shortNameA:v[c].short_name,awayTeamId:c,homeTeamId:l,id:n,buttonDisabled:s})}))))}),F=function(e){var a=+new Date(e)-+new Date,t={};return a>0&&(t={days:Math.floor(a/864e5),hours:Math.floor(a/36e5%24),minutes:Math.floor(a/1e3/60%60),seconds:Math.floor(a/1e3%60)}),t},L=t(49),G=t.n(L),H=t(50),W=t.n(H),Y=t(51),J=t.n(Y),K=(t(90),function(e){var a=e.buttonDisabled,t=e.missedDeadLine,c=e.darkMode,s=e.firstKickOffTime,l=Object(n.useState)(F(s)),o=Object(m.a)(l,2),i=o[0],u=o[1];Object(n.useEffect)((function(){var e=setTimeout((function(){u(F(s))}),1e3);return function(){return clearTimeout(e)}}));var d=[];return Object.keys(i).forEach((function(e){i[e]&&d.push(r.a.createElement("span",{key:e},i[e]," ",e," "))})),a&&t?r.a.createElement("div",{className:c?"predictionsMessage dark":"predictionsMessage error"},r.a.createElement("div",{className:"predictionsMessageContent"},r.a.createElement("img",{src:G.a,alt:"missed-deadline"}),r.a.createElement("div",{className:"messageContent"},r.a.createElement("p",null,"You have missed the deadline for the submission of this gameweek, try again next week!"),r.a.createElement(v.b,{to:"/livewatch"},"View your friends' predictions")))):a?r.a.createElement("div",{className:c?"predictionsMessage dark":"predictionsMessage"},r.a.createElement("img",{src:W.a,alt:"submitted"}),r.a.createElement("div",{className:"predictionsMessageContent"},r.a.createElement("div",{className:"messageContent"},r.a.createElement("p",null,"You have submitted this gameweek's predictions."),r.a.createElement(v.b,{to:"/livewatch"},"Go to Live Watch")))):r.a.createElement("div",{className:c?"predictionsMessage dark":"predictionsMessage timer"},r.a.createElement("img",{src:J.a,alt:"timer"}),r.a.createElement("div",{className:"predictionsMessageContent"},r.a.createElement("div",{className:"messageContent"},r.a.createElement("p",null,"Please make sure to submit your predictions before the first game of the week starts."),r.a.createElement("div",null,d.length?d:null))))}),R=(t(91),function(){var e=Object(n.useContext)(E).user,a=Object(n.useContext)(g).darkMode,t=Object(n.useState)([]),c=Object(m.a)(t,2),s=c[0],l=c[1],u=Object(n.useState)([]),p=Object(m.a)(u,2),v=p[0],b=p[1],f=Object(n.useState)(1),h=Object(m.a)(f,2),k=h[0],O=h[1],w=Object(n.useState)(!1),N=Object(m.a)(w,2),j=N[0],y=N[1],x=Object(n.useState)(!1),C=Object(m.a)(x,2),S=C[0],M=C[1],D=Object(n.useState)({}),_=Object(m.a)(D,2),B=_[0],P=_[1],A=Object(n.useState)(!1),U=Object(m.a)(A,2),F=U[0],L=U[1];Object(n.useEffect)((function(){y(!0);var e=localStorage.token;try{(function(){var a=Object(i.a)(o.a.mark((function a(){var t,n,r,c;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.get("/api/fixtures/gameweek-matches",{headers:{Authorization:"Bearer "+e}});case 2:t=a.sent,n=t.data,l(n),O(n[0].event),r={},c=[],n.map((function(e){var a=e.kickoff_time;r.hasOwnProperty(a.slice(0,a.indexOf("T")))||(c.push(a.slice(0,a.indexOf("T"))),r[a.slice(0,a.indexOf("T"))]=!0)})),b(c),y(!1);case 11:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()()}catch(a){console.error(a)}}),[]);var G=function(){var a=Object(i.a)(o.a.mark((function a(){var t;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=localStorage.token,a.next=4,d.a.post("/api/predictions",{userId:e.id,gameweek:s[0].event,predictions:B},{headers:{Authorization:"Bearer "+t}});case 4:M(!0),window.scrollTo({top:0,left:0,behavior:"smooth"}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(){return a.apply(this,arguments)}}();return r.a.createElement("div",{className:a?"matchesContainer dark":"matchesContainer"},j?r.a.createElement("div",{className:"pageHeader"},r.a.createElement(T.a,{className:"loading"})):s.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageHeader"},r.a.createElement("p",{className:a?"matchesGameweek dark":"matchesGameweek"},"Gameweek ",k," of 38"),r.a.createElement(K,{buttonDisabled:S,missedDeadLine:F,darkMode:a,firstKickOffTime:s[0].kickoff_time})),r.a.createElement("div",{className:"matchesList"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),G()}},v.map((function(e){return r.a.createElement(z,{key:e,date:e,fixtures:s,setButtonDisabled:M,buttonDisabled:S,predictions:B,setPredictions:P,setMissedDeadline:L})})),r.a.createElement("button",{type:"submit",className:I("submitButton",a,S),disabled:S},"Submit")))):r.a.createElement("div",{className:"pageHeader"},r.a.createElement("p",null,"There are no current fixtures, check back soon!")))}),V=t(52),$=t.n(V),q=(t(93),function(e){var a=e.allUsers,t=e.allPredictions,c=e.gameMatch,s=Object(n.useContext)(g).darkMode;return 0===t.length?r.a.createElement("div",null):t.map((function(e){return r.a.createElement("div",{key:e.userId,className:"player"},r.a.createElement("div",{className:s?"playerName dark":"playerName"},c.team_h_score===e.homeTeamScore&&c.team_a_score===e.awayTeamScore&&c.finished?r.a.createElement("img",{src:$.a,alt:"winner"}):null,r.a.createElement("div",{className:"userName"},a[e.userId])),r.a.createElement("div",{className:s?"playersScorePrediction dark":"playersScorePrediction"},e.homeTeamScore," - ",e.awayTeamScore),r.a.createElement("div",null))}))}),Q=(t(94),function(e){var a=e.gameMatch,t=e.teams;return r.a.createElement("div",{className:"liveGame"},r.a.createElement("div",{className:"team1"},t[a.team_h].name,r.a.createElement("img",{className:"teamImage",src:"https://back-of-the-net.s3.amazonaws.com/teams/".concat(t[a.team_h].short_name,".svg"),alt:t[a.team_h].name})),r.a.createElement("div",{className:"liveScore"},a.team_h_score," - ",a.team_a_score),r.a.createElement("div",{className:"team2"},r.a.createElement("img",{className:"teamImage",src:"https://back-of-the-net.s3.amazonaws.com/teams/".concat(t[a.team_a].short_name,".svg"),alt:t[a.team_a].name}),t[a.team_a].name))}),X=(t(95),function(e){var a=e.gameId,t=e.allPredictions,c=e.allUsers,s=e.allMatches,l=Object(n.useContext)(k).teams,o=Object(n.useContext)(g).darkMode,i=Object(n.useState)(""),u=Object(m.a)(i,2),d=u[0],p=u[1],v=Object(n.useState)(""),b=Object(m.a)(v,2),f=b[0],h=b[1];return Object(n.useEffect)((function(){p(s[a].kickoff_time),h(s[a].minutes)}),[l]),r.a.createElement("div",{className:o?"livewatchCard dark":"livewatchCard"},r.a.createElement("div",{className:"kickoffLive"},r.a.createElement("div",{className:o?"time dark":"time"},U(d)),r.a.createElement("span",{className:"live"},"90"===f?"FT":null)),r.a.createElement(Q,{teams:l,gameMatch:s[a]}),r.a.createElement(q,{allPredictions:t,allUsers:c,gameMatch:s[a]}))}),Z=t(53),ee=t.n(Z),ae=(t(96),function(e){var a=e.index,t=e.gameweek,c=e.allMatches,s=e.allUsers,l=e.allPredictions,o=Object(n.useState)(!1),i=Object(m.a)(o,2),u=i[0],d=i[1],p=Object(n.useContext)(g).darkMode;Object(n.useEffect)((function(){0===a&&d(!0)}),[a]);return r.a.createElement("li",{key:t},r.a.createElement("div",{className:"livewatchGameweek",onClick:function(){d(!u)}},r.a.createElement("div",{className:p?"livewatchGameweekHeader dark":"livewatchGameweekHeader"},r.a.createElement("div",{className:"livewatchGameweekHeaderContent"},r.a.createElement("p",null,"Gameweek ",t),r.a.createElement("img",{className:u?"rotate":null,src:ee.a,alt:"chevron"})))),u&&r.a.createElement("div",{className:"livewatchCardDisplay"},Object.keys(l).map((function(e){return c[e].event==t?r.a.createElement(X,{key:e,gameId:e,allPredictions:l[e],allUsers:s,allMatches:c}):null}))))}),te=(t(97),function(){var e=Object(n.useState)({}),a=Object(m.a)(e,2),t=a[0],c=a[1],s=Object(n.useState)({}),l=Object(m.a)(s,2),u=l[0],p=l[1],v=Object(n.useState)({}),b=Object(m.a)(v,2),f=b[0],h=b[1],E=Object(n.useState)(!1),k=Object(m.a)(E,2),O=k[0],w=k[1],N=Object(n.useState)([]),j=Object(m.a)(N,2),y=j[0],x=j[1],C=Object(n.useContext)(g).darkMode;return Object(n.useEffect)((function(){var e=localStorage.token;w(!0);var a=function(){var a=Object(i.a)(o.a.mark((function a(){var t,n,r,s;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.get("/api/predictions",{headers:{Authorization:"Bearer "+e}});case 2:t=a.sent,n=t.data,c(n),r=new Set,s=[],Object.values(n).map((function(e){var a=e[0].gameweek;r.has(a)||(r.add(a),s.push(a))})),x(s.reverse()),w(!1);case 10:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),t=function(){var a=Object(i.a)(o.a.mark((function a(){var t,n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.get("/api/users",{headers:{Authorization:"Bearer "+e}});case 2:t=a.sent,n=t.data,p(n);case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),n=function(){var t=Object(i.a)(o.a.mark((function t(){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("/api/fixtures/allMatches",{headers:{Authorization:"Bearer "+e}});case 2:n=t.sent,r=n.data,h(r),a();case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t(),n()}),[]),r.a.createElement("div",{className:C?"livewatchContainer dark":"livewatchContainer"},O?r.a.createElement(T.a,null):Object.keys(t).length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Live Scores"),r.a.createElement("ul",{className:"livewatchList"},y.map((function(e,a){return r.a.createElement(ae,{key:e,gameweek:e,allMatches:f,allUsers:u,allPredictions:t,index:a})})))):r.a.createElement("div",{className:"pageHeader"},r.a.createElement("p",null,"No predictions yet, come back after the first game of the week starts!")))}),ne=(t(98),function(){var e=Object(n.useContext)(g).darkMode;return r.a.createElement("div",{className:e?"tableContainer dark":"tableContainer"},r.a.createElement("div",{className:"pageHeader"},r.a.createElement("h1",null,"Table"),r.a.createElement("p",null,"Coming soon!")))});t(99);var re=function(){var e=Object(n.useState)(null),a=Object(m.a)(e,2),t=a[0],c=a[1],s=Object(n.useState)({}),l=Object(m.a)(s,2),u=l[0],f=l[1],O=Object(n.useState)(!1),w=Object(m.a)(O,2),N=w[0],j=w[1],y=Object(n.useRef)();return Object(n.useEffect)((function(){y.current=t;try{var e=localStorage.token,a=function(){var a=Object(i.a)(o.a.mark((function a(){var t,n,r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.get("/api/users/me",{headers:{Authorization:"Bearer "+e}});case 2:t=a.sent,n=t.data,c(n),n.darkMode&&(r=document.getElementsByClassName("body")[0],j(n.darkMode),r.className+=" dark");case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),n=function(){var a=Object(i.a)(o.a.mark((function a(){var t,n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.get("/api/teams",{headers:{Authorization:"Bearer "+e}});case 2:t=a.sent,n=t.data,f(n);case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();localStorage.token&&t===y.current&&(a(),n())}catch(r){console.error(r)}}),[y.current]),r.a.createElement(E.Provider,{value:{user:t,setUser:c,logout:function(){var e;c(null),e="token",localStorage.removeItem(e),delete d.a.defaults.headers.common.Authorization}}},r.a.createElement(k.Provider,{value:{teams:u,setTeams:f}},r.a.createElement(g.Provider,{value:{darkMode:N,setDarkMode:j}},r.a.createElement(p.a,{theme:h},r.a.createElement(v.a,null,t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(x,null),r.a.createElement(b.a,{path:"/livewatch",component:te}),r.a.createElement(b.a,{path:"/table",component:ne}),r.a.createElement(b.a,{exact:!0,path:"/",component:R})),!t&&r.a.createElement(b.c,null,r.a.createElement(b.a,{path:"/login",component:S}),r.a.createElement(b.a,{path:"/register",component:M}),r.a.createElement(b.a,{component:S})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},47:function(e,a,t){e.exports=t.p+"static/media/moon.c8dd9f75.svg"},48:function(e,a,t){e.exports=t.p+"static/media/sun.859acb1b.svg"},49:function(e,a,t){e.exports=t.p+"static/media/deadline.6d5b3521.svg"},50:function(e,a,t){e.exports=t.p+"static/media/success.1c669902.svg"},51:function(e,a,t){e.exports=t.p+"static/media/timer.13b7e1f8.svg"},52:function(e,a,t){e.exports=t.p+"static/media/star.950a9ba7.svg"},53:function(e,a,t){e.exports=t.p+"static/media/chevron.1b016c3b.svg"},56:function(e,a,t){e.exports=t(100)},61:function(e,a,t){},85:function(e,a,t){},86:function(e,a,t){},87:function(e,a,t){},88:function(e,a,t){},89:function(e,a,t){},90:function(e,a,t){},91:function(e,a,t){},93:function(e,a,t){},94:function(e,a,t){},95:function(e,a,t){},96:function(e,a,t){},97:function(e,a,t){},98:function(e,a,t){},99:function(e,a,t){}},[[56,1,2]]]);
//# sourceMappingURL=main.db307968.chunk.js.map